async function vk_comments_init() {
    const DEVELOP_RESPONSE = {
        "count": 17,
        "items": [
            {
                "id": 766,
                "from_id": 551166716,
                "date": 1654320097,
                "text": "Ð¼ÐµÐ³Ð° ÑƒÐ¼Ð½Ð¸Ðº",
                "post_id": 765,
                "owner_id": 270022066,
                "parents_stack": [],
                "attachments": [
                    {
                        "type": "photo",
                        "photo": {
                            "album_id": -5,
                            "date": 1654320093,
                            "id": 457247444,
                            "owner_id": 551166716,
                            "access_key": "e9b559cb86b8d81dde",
                            "sizes": [
                                {
                                    "height": 105,
                                    "type": "m",
                                    "width": 130,
                                    "url": "https://sun9-86.userapi.com/impg/cesYUVur7YWcVpVG6pVr09K2JcnlaxrVvXzHNA/IZm7Ui04DGI.jpg?size=130x105&quality=96&sign=7f3db279b8772acec7a07a4289ddc33c&c_uniq_tag=yPdSDezqzIukeECF6mMRFJ-SEF66aO3Z_qb6rEB2t8U&type=album"
                                },
                                {
                                    "height": 105,
                                    "type": "o",
                                    "width": 130,
                                    "url": "https://sun9-86.userapi.com/impg/cesYUVur7YWcVpVG6pVr09K2JcnlaxrVvXzHNA/IZm7Ui04DGI.jpg?size=130x105&quality=96&sign=7f3db279b8772acec7a07a4289ddc33c&c_uniq_tag=yPdSDezqzIukeECF6mMRFJ-SEF66aO3Z_qb6rEB2t8U&type=album"
                                },
                                {
                                    "height": 162,
                                    "type": "p",
                                    "width": 200,
                                    "url": "https://sun9-86.userapi.com/impg/cesYUVur7YWcVpVG6pVr09K2JcnlaxrVvXzHNA/IZm7Ui04DGI.jpg?size=200x162&quality=96&sign=1819d9b83defcadabfbeff5240541a3c&c_uniq_tag=83Jc0Uql3i_sxKnuAoq21QU4FpH-jfiiNN_D3T5Hhyw&type=album"
                                },
                                {
                                    "height": 259,
                                    "type": "q",
                                    "width": 320,
                                    "url": "https://sun9-86.userapi.com/impg/cesYUVur7YWcVpVG6pVr09K2JcnlaxrVvXzHNA/IZm7Ui04DGI.jpg?size=320x259&quality=96&sign=4aa4dd6524371419aeaf2ad6c1ecc7d1&c_uniq_tag=LZMrf7PPZ1F2wkH8UDxuOuFkvfX-lDrpSKRtaSzEoiw&type=album"
                                },
                                {
                                    "height": 354,
                                    "type": "r",
                                    "width": 437,
                                    "url": "https://sun9-86.userapi.com/impg/cesYUVur7YWcVpVG6pVr09K2JcnlaxrVvXzHNA/IZm7Ui04DGI.jpg?size=437x354&quality=96&sign=786e04103ea0dc9f070a4494239110d7&c_uniq_tag=RzJDVjkEWoVoyqMAfOCRBpzarGeBPWUQsGdGs8neOuI&type=album"
                                },
                                {
                                    "height": 61,
                                    "type": "s",
                                    "width": 75,
                                    "url": "https://sun9-86.userapi.com/impg/cesYUVur7YWcVpVG6pVr09K2JcnlaxrVvXzHNA/IZm7Ui04DGI.jpg?size=75x61&quality=96&sign=1c1b1939e3341604f8f9fefe59a67166&c_uniq_tag=xPShqcPgmhkYgLa0i_K9obkHUv7uQPzrQ4gQUEZny9Q&type=album"
                                },
                                {
                                    "height": 354,
                                    "type": "x",
                                    "width": 437,
                                    "url": "https://sun9-86.userapi.com/impg/cesYUVur7YWcVpVG6pVr09K2JcnlaxrVvXzHNA/IZm7Ui04DGI.jpg?size=437x354&quality=96&sign=786e04103ea0dc9f070a4494239110d7&c_uniq_tag=RzJDVjkEWoVoyqMAfOCRBpzarGeBPWUQsGdGs8neOuI&type=album"
                                }
                            ],
                            "text": "",
                            "has_tags": false
                        }
                    }
                ],
                "thread": {
                    "count": 0,
                    "items": [],
                    "can_post": true,
                    "show_reply_button": true,
                    "groups_can_post": true
                }
            },
            {
                "id": 767,
                "from_id": 485577591,
                "date": 1654325916,
                "text": "ÐšÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾ Ð¸ Ð±Ñ‹ÑÑ‚Ñ€Ð¾, Ñ Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸ÐµÐ¼ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹\nÑÑ‚Ð°Ð²Ð»ÑŽ ÐºÐ»Ð°ÑÑ",
                "post_id": 765,
                "owner_id": 270022066,
                "parents_stack": [],
                "attachments": [
                    {
                        "type": "photo",
                        "photo": {
                            "album_id": -5,
                            "date": 1654325916,
                            "id": 457271897,
                            "owner_id": 485577591,
                            "access_key": "24855300a0bb79a8b7",
                            "sizes": [
                                {
                                    "height": 42,
                                    "type": "s",
                                    "width": 75,
                                    "url": "https://sun9-74.userapi.com/impg/JnlsJ10UExl7Vsj6zLBvFl7K0K4Zw9c7I6lCfQ/QKlAJ3oe7fE.jpg?size=75x42&quality=95&sign=93d95f51fb5e626da8847c2aedc1ee63&c_uniq_tag=4MtQ0nsZOHLlOrRT16UP9b_1NNn-7cCesSLhCkVi1kY&type=album"
                                },
                                {
                                    "height": 73,
                                    "type": "m",
                                    "width": 130,
                                    "url": "https://sun9-74.userapi.com/impg/JnlsJ10UExl7Vsj6zLBvFl7K0K4Zw9c7I6lCfQ/QKlAJ3oe7fE.jpg?size=130x73&quality=95&sign=56d2a393ca35162532a5573b1ce2058d&c_uniq_tag=eJ5urGXyy4YkBN6ZC4ZD7qc6sMy7doZeQyMVh2T8ycU&type=album"
                                },
                                {
                                    "height": 340,
                                    "type": "x",
                                    "width": 604,
                                    "url": "https://sun9-74.userapi.com/impg/JnlsJ10UExl7Vsj6zLBvFl7K0K4Zw9c7I6lCfQ/QKlAJ3oe7fE.jpg?size=604x340&quality=95&sign=d547263d54480e56f86c440772a8076d&c_uniq_tag=FAFTnITOUnEknFCKjCgOEZgR-kxA4eAkX3yEcqYmiLo&type=album"
                                },
                                {
                                    "height": 454,
                                    "type": "y",
                                    "width": 807,
                                    "url": "https://sun9-74.userapi.com/impg/JnlsJ10UExl7Vsj6zLBvFl7K0K4Zw9c7I6lCfQ/QKlAJ3oe7fE.jpg?size=807x454&quality=95&sign=f60697778d89caeed70937a046e288e3&c_uniq_tag=_XxElyMw9mU_ek769csCNSpMoctYPN27GHOWby7s3jQ&type=album"
                                },
                                {
                                    "height": 720,
                                    "type": "z",
                                    "width": 1280,
                                    "url": "https://sun9-74.userapi.com/impg/JnlsJ10UExl7Vsj6zLBvFl7K0K4Zw9c7I6lCfQ/QKlAJ3oe7fE.jpg?size=1280x720&quality=95&sign=6f84be932dbde7b9b9fdf73c35b82015&c_uniq_tag=G5JGxMql0nJoyNwqqvTriGe8NIwzNSZmjyb9vzZNbAY&type=album"
                                },
                                {
                                    "height": 900,
                                    "type": "w",
                                    "width": 1600,
                                    "url": "https://sun9-74.userapi.com/impg/JnlsJ10UExl7Vsj6zLBvFl7K0K4Zw9c7I6lCfQ/QKlAJ3oe7fE.jpg?size=1600x900&quality=95&sign=38d61027dbfb0d5dafff0d8f2a52b9c2&c_uniq_tag=pbgwXJU7P0tYqJIode-hzxUo5qWO1YiG4AhlGWHxOIg&type=album"
                                },
                                {
                                    "height": 87,
                                    "type": "o",
                                    "width": 130,
                                    "url": "https://sun9-74.userapi.com/impg/JnlsJ10UExl7Vsj6zLBvFl7K0K4Zw9c7I6lCfQ/QKlAJ3oe7fE.jpg?size=130x87&quality=95&crop=127,0,1345,900&sign=c22a9231fc1968ca8e61144296abf621&c_uniq_tag=1cBrRDDkckzQ9bWK1OK4L0Q2FjHtboPtNtRUg5nCSdM&type=album"
                                },
                                {
                                    "height": 133,
                                    "type": "p",
                                    "width": 200,
                                    "url": "https://sun9-74.userapi.com/impg/JnlsJ10UExl7Vsj6zLBvFl7K0K4Zw9c7I6lCfQ/QKlAJ3oe7fE.jpg?size=200x133&quality=95&crop=123,0,1353,900&sign=bee55324ff8a25a80ef1dbdf601693b2&c_uniq_tag=xAQUDTA_ZbUC7zh5bJ9tmRbBLH7Hv8UTRg56v5fzAmk&type=album"
                                },
                                {
                                    "height": 213,
                                    "type": "q",
                                    "width": 320,
                                    "url": "https://sun9-74.userapi.com/impg/JnlsJ10UExl7Vsj6zLBvFl7K0K4Zw9c7I6lCfQ/QKlAJ3oe7fE.jpg?size=320x213&quality=95&crop=124,0,1352,900&sign=2409d3f46c553c9cc4bc788c067a9172&c_uniq_tag=RvcgXQbTmJFdGtATT7P2z8vWpDX-EsusQ6GAUxPltsQ&type=album"
                                },
                                {
                                    "height": 340,
                                    "type": "r",
                                    "width": 510,
                                    "url": "https://sun9-74.userapi.com/impg/JnlsJ10UExl7Vsj6zLBvFl7K0K4Zw9c7I6lCfQ/QKlAJ3oe7fE.jpg?size=510x340&quality=95&crop=125,0,1350,900&sign=5603835acae2c714c74be3abab477bf9&c_uniq_tag=UzC0EKQdkVF6dk1_E88tO9cG8uh4F0pGA4g6WssUDmk&type=album"
                                }
                            ],
                            "text": "",
                            "has_tags": false
                        }
                    }
                ],
                "thread": {
                    "count": 0,
                    "items": [],
                    "can_post": true,
                    "show_reply_button": true,
                    "groups_can_post": true
                }
            },
            {
                "id": 768,
                "from_id": 364162176,
                "date": 1654328473,
                "text": "Ð¡Ð´ÐµÐ»Ð°Ð» 6 Ð»Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ñ… Ñ€Ð°Ð±Ð¾Ñ‚! Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ Ð·Ð½Ð°Ð½Ð¸Ñ ÑÐ·Ñ‹ÐºÐ° Ñ…Ð¾Ñ€Ð¾ÑˆÐ¸Ð¹. Ð•ÑÐ»Ð¸ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ°Ð»Ð¸ ÐºÐ°ÐºÐ¸Ðµ-Ñ‚Ð¾ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹, Ñ‚Ð¾ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¸Ð²Ð½Ð¾ Ð¿Ð¾Ð¼Ð¾Ð³Ð°Ð» Ð¸Ñ… Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ. Ð’ÑÐµÐ¼ ÑÐ¾Ð²ÐµÑ‚ÑƒÑŽ",
                "post_id": 765,
                "owner_id": 270022066,
                "parents_stack": [],
                "thread": {
                    "count": 0,
                    "items": [],
                    "can_post": true,
                    "show_reply_button": true,
                    "groups_can_post": true
                }
            },
            {
                "id": 771,
                "from_id": 143572988,
                "date": 1654371988,
                "text": "Ð¡Ð´ÐµÐ»Ð°Ð» 5 Ð»Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ñ… Ñ€Ð°Ð±Ð¾Ñ‚ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾, ÐµÑÐ»Ð¸ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ°Ð»Ð¸ ÐºÐ°ÐºÐ¸Ðµ-Ñ‚Ð¾ Ð¾ÑˆÐ¸Ð±ÐºÐ¸, Ñ‚Ð¾ Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ð²ÑÑ‘ Ñ€ÐµÑˆÐ°Ð»Ð¸. ÐÐ° Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¿Ð¾ Ñ‚ÐµÐ¾Ñ€Ð¸Ð¸ Ð¾Ñ‚ Ð¿Ñ€ÐµÐ¿Ð¾Ð´Ð° Ð¿Ð¾Ð¼Ð¾Ð³Ð°Ð» Ð¾Ñ‚Ð²ÐµÑ‡Ð°Ñ‚ÑŒ. ðŸ‘ðŸ»",
                "post_id": 765,
                "owner_id": 270022066,
                "parents_stack": [],
                "thread": {
                    "count": 0,
                    "items": [],
                    "can_post": true,
                    "show_reply_button": true,
                    "groups_can_post": true
                }
            },
            {
                "id": 775,
                "from_id": 669968049,
                "date": 1654511854,
                "text": "Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾ ÐœÐ°Ñ€Ð°Ñ‚Ñƒ, Ð¾Ñ‡ÐµÐ½ÑŒ Ð¿Ð¾Ð¼Ð¾Ð³ Ð² Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ð¸ (Ð¸ Ð¿Ð¾Ð´Ð³Ð¾Ð½ÐºÐµ) Ð»Ð°Ð±, Ñ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ°Ð¼Ð¸ Ð¿Ð¾ Ñ‚ÐµÐ¾Ñ€Ð¸Ð¸ Ð¿Ð¾Ð¼Ð¾Ð³Ð°Ð» Ñ‚Ð¾Ð¶Ðµ.",
                "post_id": 765,
                "owner_id": 270022066,
                "parents_stack": [],
                "thread": {
                    "count": 0,
                    "items": [],
                    "can_post": true,
                    "show_reply_button": true,
                    "groups_can_post": true
                }
            },
            {
                "id": 779,
                "from_id": 192492502,
                "date": 1656611708,
                "text": "ÐœÐ°Ñ€Ð°Ñ‚ Ð¾Ñ‡ÐµÐ½ÑŒ ÐºÐ»Ð°ÑÑÐ½Ñ‹Ð¹ Ñ‡ÐµÐ». ÐšÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ð°Ñ, Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð±Ñ‹ÑÑ‚Ñ€Ð¾. Ð Ð°Ð±Ð¾Ñ‚Ð° Ð¾Ñ‡ÐµÐ½ÑŒ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ, Ð²ÑÐµÐ¼ ÑÐ¾Ð²ÐµÑ‚ÑƒÑŽ. ÐžÑÑ‚Ð°Ð²Ð»ÑÐ¹Ñ‚Ðµ Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð° Ð¾Ñ‚Ð·Ñ‹Ð²Ñ‹, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¾Ð´Ð²Ð¸Ð³Ð°Ñ‚ÑŒ ÐœÐ°Ñ€Ð°Ñ‚Ð°, ÐºÐ°Ðº Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸ÑÑ‚Ð°.",
                "post_id": 765,
                "owner_id": 270022066,
                "parents_stack": [],
                "thread": {
                    "count": 0,
                    "items": [],
                    "can_post": true,
                    "show_reply_button": true,
                    "groups_can_post": true
                }
            },
            {
                "id": 782,
                "from_id": 171995306,
                "date": 1666523580,
                "text": "Ð¡Ð´ÐµÐ»Ð°Ð» Ð¼Ð½Ðµ Ð»Ð°Ð±Ñƒ Ð¾Ñ‚ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð·Ð°Ð²Ð¸ÑÐ¸Ð»Ð° Ð¼Ð¾Ñ Ð¶Ð¸Ð·Ð½ÑŒ, Ð¸ Ñ…Ð¾Ñ‚ÑŒ Ð±Ð¾Ð»ÑŒÑˆÑƒÑŽ Ñ‡Ð°ÑÑ‚ÑŒ Ñ Ð½Ðµ Ð¿Ð¾Ð½ÑÐ», Ð´ÑƒÐ¼Ð°Ñ Ñ‡Ñ‚Ð¾ Ð¼Ð½Ðµ ÐºÐ°ÐºÐ¾Ð¹-Ñ‚Ð¾ ÐºÐ¾ÑÑ‚Ñ‹Ð»ÑŒ Ð½Ð°Ð¿Ð¸ÑÐ°Ð»Ð¸, Ð¾ÐºÐ°Ð·Ð°Ð»Ð¾ÑÑŒ, Ñ‡Ñ‚Ð¾ ÐºÐ¾Ð´ Ð¾Ñ‡ÐµÐ½ÑŒ Ð´Ð°Ð¶Ðµ Ð¼Ð½Ð¾Ð³Ð¾ Ð·Ð°Ð´Ð°Ñ‡Ð½Ñ‹Ð¹, Ð½Ð° ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾, Ñ‡Ñ‚Ð¾ Ð¿Ñ€ÐµÐ¿Ð¾Ð´ Ð¿Ð¾Ð´ÑƒÐ¼Ð°Ð» ÑÐ½Ð°Ñ‡Ð°Ð»Ð°, Ñ‡Ñ‚Ð¾ Ñ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ Ð½Ðµ Ñ‚Ð¾ ÑÐ´ÐµÐ»Ð°Ð». Ð¡Ð»Ð°Ð²Ð° Ð±Ð¾Ð³Ñƒ ÐœÐ°Ñ€Ð°Ñ‚ Ð´Ð¾ ÐºÐ¾Ð½Ñ†Ð° Ð´ÐµÑ€Ð¶Ð°Ð» Ð¼ÐµÐ½Ñ Ð·Ð° Ñ€ÑƒÑ‡ÐºÑƒ Ð¸ Ñ Ð½Ðµ ÑÐ¼Ð¾Ñ‚Ñ€Ñ Ð½Ð° Ð¼Ð¾ÑŽ Ð¿Ð°Ð½Ð¸ÐºÑƒ, Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸ÐµÐ² ÐœÐ°Ñ€Ð°Ñ‚Ð° ÑÐ¼Ð¾Ð³ Ð»Ð¾Ð²ÐºÐ¾ Ð¿Ð°Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½ÐµÐ¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð¿Ñ€ÐµÐ¿Ð¾Ð´Ð°Ð²Ð°Ñ‚ÐµÐ»Ñ, Ð¿Ð¾ÑÐ»Ðµ Ñ‡ÐµÐ³Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð» Ð·Ð°Ñ‡Ñ‘Ñ‚. Ð’Ñ‹Ð²Ð¾Ð´: Ð£Ñ‡Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð³Ñƒ, Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ Ð½Ð° ÑÐ»Ð»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ñ€Ð½Ð¾Ð¼ ÑƒÑ€Ð¾Ð²Ð½Ðµ, Ð° Ð·Ð° Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ ÐºÐ¾Ð´Ð° Ð½Ðµ Ð²Ð¾Ð»Ð½ÑƒÐ¹Ñ‚ÐµÑÑŒ, ÐœÐ°Ñ€Ð°Ñ‚ Ð²ÐµÑÑŒÐ¼Ð° Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¾Ð± ÑÑ‚Ð¾Ð¼ Ð¿Ð¾Ð·Ð°Ð±Ð¾Ñ‚Ð¸Ñ‚ÑÑ.",
                "post_id": 765,
                "owner_id": 270022066,
                "parents_stack": [],
                "thread": {
                    "count": 0,
                    "items": [],
                    "can_post": true,
                    "show_reply_button": true,
                    "groups_can_post": true
                }
            },
            {
                "id": 784,
                "from_id": 270022066,
                "date": 1666524893,
                "text": "",
                "post_id": 765,
                "owner_id": 270022066,
                "parents_stack": [],
                "attachments": [
                    {
                        "type": "photo",
                        "photo": {
                            "album_id": -5,
                            "date": 1666524892,
                            "id": 457267645,
                            "owner_id": 270022066,
                            "access_key": "92d04b5300cd26f699",
                            "sizes": [
                                {
                                    "height": 35,
                                    "type": "m",
                                    "width": 130,
                                    "url": "https://sun9-14.userapi.com/impg/T6a3LNSnWW6wBqCPeEz4emEA_OMaTta8k4evnA/xLC_9SCcntU.jpg?size=130x35&quality=96&sign=a0c2a89e9374695b2f587dc9b73a457a&c_uniq_tag=jEHO8v-ZuiVzUl32LCrQmcgabk1oGP6aIF8zPMX2iD4&type=album"
                                },
                                {
                                    "height": 87,
                                    "type": "o",
                                    "width": 130,
                                    "url": "https://sun9-14.userapi.com/impg/T6a3LNSnWW6wBqCPeEz4emEA_OMaTta8k4evnA/xLC_9SCcntU.jpg?size=130x87&quality=96&crop=135,0,185,124&sign=85cab4551de52e006f212474d8c95437&c_uniq_tag=7zbUktM29gyblhOoS-mh6D7ldpINOC9sm9FG-eugeTs&type=album"
                                },
                                {
                                    "height": 124,
                                    "type": "p",
                                    "width": 200,
                                    "url": "https://sun9-14.userapi.com/impg/T6a3LNSnWW6wBqCPeEz4emEA_OMaTta8k4evnA/xLC_9SCcntU.jpg?size=200x124&quality=96&crop=127,0,200,124&sign=cbf681340796ed9e5cb38033a8c319cc&c_uniq_tag=YWb_CS6D3bki7ty1gUSFCZoG2N1FBi5e6gKecHcrYBo&type=album"
                                },
                                {
                                    "height": 124,
                                    "type": "q",
                                    "width": 320,
                                    "url": "https://sun9-14.userapi.com/impg/T6a3LNSnWW6wBqCPeEz4emEA_OMaTta8k4evnA/xLC_9SCcntU.jpg?size=320x124&quality=96&crop=67,0,320,124&sign=aa7db4e759a1d7c71bb0d48cc9efde9b&c_uniq_tag=4y_gPNKufM3eK5O2Rk6mlMnyKXwQp7i9wtvfxiUfIFQ&type=album"
                                },
                                {
                                    "height": 124,
                                    "type": "r",
                                    "width": 455,
                                    "url": "https://sun9-14.userapi.com/impg/T6a3LNSnWW6wBqCPeEz4emEA_OMaTta8k4evnA/xLC_9SCcntU.jpg?size=455x124&quality=96&sign=ecb7738fb76dc60bb0fb6c20c2669299&c_uniq_tag=DvAn90mLUNCSUKkRRLBlQm2fbEQNE3_x9sOK48VoRps&type=album"
                                },
                                {
                                    "height": 20,
                                    "type": "s",
                                    "width": 75,
                                    "url": "https://sun9-14.userapi.com/impg/T6a3LNSnWW6wBqCPeEz4emEA_OMaTta8k4evnA/xLC_9SCcntU.jpg?size=75x20&quality=96&sign=15dcee23785f768847aa0f0e3bdbc2d6&c_uniq_tag=hXDQe4IDTgHrue_u1XrnMwFiUK-PZg8_ynZmQnUkWcg&type=album"
                                },
                                {
                                    "height": 124,
                                    "type": "x",
                                    "width": 455,
                                    "url": "https://sun9-14.userapi.com/impg/T6a3LNSnWW6wBqCPeEz4emEA_OMaTta8k4evnA/xLC_9SCcntU.jpg?size=455x124&quality=96&sign=ecb7738fb76dc60bb0fb6c20c2669299&c_uniq_tag=DvAn90mLUNCSUKkRRLBlQm2fbEQNE3_x9sOK48VoRps&type=album"
                                }
                            ],
                            "text": "",
                            "has_tags": false
                        }
                    }
                ],
                "thread": {
                    "count": 0,
                    "items": [],
                    "can_post": true,
                    "show_reply_button": true,
                    "groups_can_post": true
                }
            },
            {
                "id": 785,
                "from_id": 335242778,
                "date": 1666526195,
                "text": "ÐœÐ°Ñ€Ð°Ñ‚ Ð¿Ð¾Ð¼Ð¾Ð³ 2 Ñ€Ð°Ð·Ð° Ð² Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð°Ñ…, Ð² Ð¾Ð±Ð¾Ð¸Ñ… ÑÐ»ÑƒÑ‡Ð°ÑÑ… Ð²ÑÑ‘ Ð½Ð° Ð²Ñ‹ÑÑˆÐµÐ¼ ÑƒÑ€Ð¾Ð²Ð½Ðµ! Ð›Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹, Ð´Ð°Ð¶Ðµ Ñ ÑƒÑ‡Ñ‘Ñ‚Ð¾Ð¼ ÐºÑ€Ð°Ð¹Ð½Ðµ ÑÐ¶Ð°Ñ‚Ñ‹Ñ… ÑÑ€Ð¾ÐºÐ¾Ð², Ð±Ñ‹Ð»Ð¸ Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ñ‹ Ñ Ð·Ð°Ð¿Ð°ÑÐ¾Ð¼ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸. ÐÐ¾ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð²ÑÐµÐ³Ð¾ ÐœÐ°Ñ€Ð°Ñ‚ Ð¿Ð¾Ð¼Ð¾Ð³ Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð¾Ð¹ Ð½Ð° ÐºÐ¾Ð¼Ð¸ÑÑÐ¸Ð¸ Ð¿Ð¾Ð´ Ð¶Ñ‘ÑÑ‚ÐºÐ¸Ð¼ Ð½Ð°Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸ÐµÐ¼. ÐÐ±ÑÐ¾Ð»ÑŽÑ‚Ð½Ð¾ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ, Ð±Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð¸ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ Ñ Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼ Ð·Ð°Ð´Ð°Ð½Ð¸ÐµÐ¼ - ÐºÐ¾Ð¼Ð¸ÑÑÐ¸ÑŽ ÑÐ´Ð°Ð» Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐ½Ð¾. ÐŸÐ¾ÑÐ»Ðµ ÑÐ°Ð¼Ð¾Ð³Ð¾ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð´Ð°Ð¶Ðµ Ñ€Ð°ÑÑÐºÐ°Ð·Ð°Ð», Ñ‡Ñ‚Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ Ð½Ð° Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹. ÐšÑ€Ð°Ð¹Ð½Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÑŽ!",
                "post_id": 765,
                "owner_id": 270022066,
                "parents_stack": [],
                "thread": {
                    "count": 0,
                    "items": [],
                    "can_post": true,
                    "show_reply_button": true,
                    "groups_can_post": true
                }
            },
            {
                "id": 786,
                "from_id": 323710929,
                "date": 1666554345,
                "text": "Ð¡Ð´ÐµÐ»Ð°Ð» 3 Ð»Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð½Ñ‹Ñ… Ñ€Ð°Ð±Ð¾Ñ‚, Ð´ÐµÑˆÐµÐ²Ð¾ Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ð¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾. ÐÐ° Ð²ÑÐµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð¸ Ñ€Ð°Ð·ÑŠÑÑÐ½ÑÐµÑ‚, Ð²ÑÐµÐ¼ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÑŽ  ðŸ‘Œ",
                "post_id": 765,
                "owner_id": 270022066,
                "parents_stack": [],
                "thread": {
                    "count": 0,
                    "items": [],
                    "can_post": true,
                    "show_reply_button": true,
                    "groups_can_post": true
                }
            }
        ],
        "profiles": [
            {
                "id": 143572988,
                "first_name": "ÐœÐ°ÐºÑÐ¸Ð¼",
                "last_name": "ÐÐºÐ¸ÑˆÐ¸Ð½",
                "can_access_closed": true,
                "is_closed": false
            },
            {
                "id": 171995306,
                "first_name": "ÐšÐ¸Ñ€Ð¸Ð»Ð»",
                "last_name": "Ð¡ÐµÑ€Ð³ÐµÐµÐ²",
                "can_access_closed": true,
                "is_closed": false
            },
            {
                "id": 192492502,
                "first_name": "Ð¡ÐµÑ€Ð³ÐµÐ¹",
                "last_name": "Ð‘Ð°Ð±ÑƒÑ€Ð¸Ð½",
                "can_access_closed": false,
                "is_closed": true
            },
            {
                "id": 270022066,
                "first_name": "ÐœÐ°Ñ€Ð°Ñ‚",
                "last_name": "Ð¤Ð°Ñ‚ÐºÑƒÐ»Ð¾Ð²",
                "can_access_closed": true,
                "is_closed": false
            },
            {
                "id": 323710929,
                "first_name": "Ð¡Ð»Ð°Ð²Ð°",
                "last_name": "Ð£Ñ€ÑƒÑÐ¾Ð²",
                "can_access_closed": true,
                "is_closed": false
            },
            {
                "id": 335242778,
                "first_name": "Ð˜Ð²Ð°Ð½",
                "last_name": "Ð¨Ð°Ñ€Ð³Ð°Ð½",
                "can_access_closed": false,
                "is_closed": true
            },
            {
                "id": 364162176,
                "first_name": "Ð“ÐµÐ¾Ñ€Ð³Ð¸Ð¹",
                "last_name": "ÐÐ½Ñ‚Ð¾Ð½Ð¾Ð²",
                "can_access_closed": true,
                "is_closed": false
            },
            {
                "id": 485577591,
                "first_name": "ÐÑ€Ñ‚ÐµÐ¼Ð¸Ð¹",
                "last_name": "ÐšÐ»Ð¸Ð¼Ð°ÑˆÐºÐ¾",
                "can_access_closed": true,
                "is_closed": false
            },
            {
                "id": 551166716,
                "first_name": "Ð•Ð²Ð³ÐµÐ½Ð¸Ð¹",
                "last_name": "ÎšÐ¾Ñ€Ð½Ð¸Ð»ÐµÐ½ÐºÐ¾",
                "can_access_closed": false,
                "is_closed": true
            },
            {
                "id": 669968049,
                "first_name": "ÐÐ½Ð´Ñ€ÐµÐ¹",
                "last_name": "Ð¤Ð¸Ð»Ð¸Ð¿Ð¿Ð¾Ð²",
                "can_access_closed": true,
                "is_closed": false
            }
        ],
        "groups": [],
        "current_level_count": 17,
        "can_post": true,
        "show_reply_button": true,
        "groups_can_post": true
    };
    const DEVELOP_USER = {
        "response": [
            {
                "id": 270022066,
                "crop_photo": {
                    "photo": {
                        "album_id": -6,
                        "date": 1670523030,
                        "id": 457267814,
                        "owner_id": 270022066,
                        "sizes": [
                            {
                                "height": 75,
                                "type": "s",
                                "width": 75,
                                "url": "https://sun9-17.userapi.com/impg/lTyZRGnUh-tUyzEDBjJaPqo9xt9eJ2WfO_bcnw/G-CE9EmFzmc.jpg?size=75x75&quality=95&sign=ae35fb9fd14ce2073035a89b1816dba6&c_uniq_tag=6dapCIfBcuPQ2mfDiizmCemhqxY8M8PCUhB1tcP2QI4&type=album"
                            },
                            {
                                "height": 130,
                                "type": "m",
                                "width": 130,
                                "url": "https://sun9-17.userapi.com/impg/lTyZRGnUh-tUyzEDBjJaPqo9xt9eJ2WfO_bcnw/G-CE9EmFzmc.jpg?size=130x130&quality=95&sign=f250f82a51934a859795024ff0251ef3&c_uniq_tag=vgJhIkpewkozALK1udDwOJJVT7EQwnUfU97Z7p4Sxis&type=album"
                            },
                            {
                                "height": 604,
                                "type": "x",
                                "width": 604,
                                "url": "https://sun9-17.userapi.com/impg/lTyZRGnUh-tUyzEDBjJaPqo9xt9eJ2WfO_bcnw/G-CE9EmFzmc.jpg?size=604x604&quality=95&sign=d9d787cf6b557cc941257082c8ec28c6&c_uniq_tag=6u8H-KX05ZOcGqeJ1qsipd-KuSkB4tIsU6jKfrv_T5w&type=album"
                            },
                            {
                                "height": 807,
                                "type": "y",
                                "width": 807,
                                "url": "https://sun9-17.userapi.com/impg/lTyZRGnUh-tUyzEDBjJaPqo9xt9eJ2WfO_bcnw/G-CE9EmFzmc.jpg?size=807x807&quality=95&sign=c1c361ae520d54d4512f21ef08ee700a&c_uniq_tag=42iTaEyYdK_-i-gxFvMj6ngACI4goL-r4LaFiDX9eWQ&type=album"
                            },
                            {
                                "height": 1280,
                                "type": "z",
                                "width": 1280,
                                "url": "https://sun9-17.userapi.com/impg/lTyZRGnUh-tUyzEDBjJaPqo9xt9eJ2WfO_bcnw/G-CE9EmFzmc.jpg?size=1280x1280&quality=95&sign=073e6acdeef7b4e609c444b4cd6017c2&c_uniq_tag=YEuD91ChxJn3KI_nCGG9G2_P8RmSczRy7Yr9RM8NqWA&type=album"
                            },
                            {
                                "height": 2560,
                                "type": "w",
                                "width": 2560,
                                "url": "https://sun9-17.userapi.com/impg/lTyZRGnUh-tUyzEDBjJaPqo9xt9eJ2WfO_bcnw/G-CE9EmFzmc.jpg?size=2560x2560&quality=95&sign=748e1d8aebf72ce8f4f3cbd190d34200&c_uniq_tag=Lj1ReR9HorecoAC4Ob1xEHKkpDHtm1EkE5jkWQzU6NM&type=album"
                            },
                            {
                                "height": 130,
                                "type": "o",
                                "width": 130,
                                "url": "https://sun9-17.userapi.com/impg/lTyZRGnUh-tUyzEDBjJaPqo9xt9eJ2WfO_bcnw/G-CE9EmFzmc.jpg?size=130x130&quality=95&sign=f250f82a51934a859795024ff0251ef3&c_uniq_tag=vgJhIkpewkozALK1udDwOJJVT7EQwnUfU97Z7p4Sxis&type=album"
                            },
                            {
                                "height": 200,
                                "type": "p",
                                "width": 200,
                                "url": "https://sun9-17.userapi.com/impg/lTyZRGnUh-tUyzEDBjJaPqo9xt9eJ2WfO_bcnw/G-CE9EmFzmc.jpg?size=200x200&quality=95&sign=8f6a48ab3a2e17175723201c84bfb12b&c_uniq_tag=AmF_eMvjedGSdlZR5LpyuuRbh8j0Yx_katsr-YbUB9c&type=album"
                            },
                            {
                                "height": 320,
                                "type": "q",
                                "width": 320,
                                "url": "https://sun9-17.userapi.com/impg/lTyZRGnUh-tUyzEDBjJaPqo9xt9eJ2WfO_bcnw/G-CE9EmFzmc.jpg?size=320x320&quality=95&sign=f1da2cb7629764125c1d761e568aea83&c_uniq_tag=Stlt03i2k7y-YXpWe0Ke2NQJoPE8ePXjFlrg5-v6bcI&type=album"
                            },
                            {
                                "height": 510,
                                "type": "r",
                                "width": 510,
                                "url": "https://sun9-17.userapi.com/impg/lTyZRGnUh-tUyzEDBjJaPqo9xt9eJ2WfO_bcnw/G-CE9EmFzmc.jpg?size=510x510&quality=95&sign=fbff69669f54814125fc1d3088e535d4&c_uniq_tag=Ch-uzQX9qdPLsNWGNkbLzAxyIgSI-T4RGMswau2scBI&type=album"
                            }
                        ],
                        "square_crop": "425,0,1900",
                        "text": "",
                        "has_tags": false
                    },
                    "crop": {
                        "x": 16.6,
                        "y": 0,
                        "x2": 90.82,
                        "y2": 74.22
                    },
                    "rect": {
                        "x": 0,
                        "y": 0,
                        "x2": 100,
                        "y2": 100
                    }
                },
                "first_name": "ÐœÐ°Ñ€Ð°Ñ‚",
                "last_name": "Ð¤Ð°Ñ‚ÐºÑƒÐ»Ð¾Ð²",
                "can_access_closed": true,
                "is_closed": false
            }
        ]
    }

    
    
    VK.init({ apiId: 8222059 });
    const Profiles = {};

    //https://vk.com/cockyasfxck?w=wall270022066_765
    const response = await getComments(270022066, 765);
    await prepareData(response);
    const comments = await createComments(response);
    await html_render(comments);


    async function prepareData(vk_response) {
        for (let profile of vk_response.profiles) {
            /*  
            Will be 
            Profiles = {
                1: Ð˜Ð²Ð°Ð½Ð¾Ð² Ð˜Ð²Ð°Ð½,
                2342: Ð¡ÐµÑ€Ð³ÐµÐµÐ² Ð¡ÐµÑ€Ð³ÐµÐ¹
                ...
                ...
                ...
            }
            */
            Profiles[profile.id] = `${profile.first_name} ${profile.last_name}`;
        }
    }

    async function getComments(ownerId, postId) {
        const URL = `https://api.vk.com/method/wall.getComments?owner_id=${ownerId}&post_id=${postId}&need_likes=0&extended=0&access_token=6f5d85aa6f5d85aa6f5d85aa576f20f0c166f5d6f5d85aa0d883fdb093dedf6973414c3&v=5.131`;
        // const result = await fetch(URL, {
        //     method: "GET",
        //     headers:
        //     {
        //         "Content-Type": "application/json",
        //         "Accept": "application/json",
        //         "Access-Control-Allow-Origin": "*"
        //     }
        // });
        return DEVELOP_RESPONSE;
    }

    async function getUser(userID) {

        const URL = `https://api.vk.com/method/users.get?user_ids=${userID}&fields=crop_photo&access_token=6f5d85aa6f5d85aa6f5d85aa576f20f0c166f5d6f5d85aa0d883fdb093dedf6973414c3&v=5.131`;
        //return await fetch(URL);
        return DEVELOP_USER.response[0];
    }

    /**
     * @brief Build an user full name from first_name + last_name
     * @note Should use JSON of VK API response of wall.getComments method
     * 
     * @param {number} authorID user profile ID
     * @param {array} profiles_array all profiles
     * @return {string} user full name
     */
    function getName(authorID) {
        return Profiles[authorID];
    }

    /**
     * @brief Takes user JSON. Search through each size of photo, search for 'x' size.
     * 
     * @param {JSON} user - response of VK API Users.get method;
     * @returns user photo url of 'x' size;
     */
    async function getIcon(user) {
        let imgURL = null;
        user.crop_photo.photo.sizes.forEach(size => {
            if (size.type === "x") {
                imgURL = size.url;
                return;
            }
        });
        if (!imgURL) imgURL = user.crop_photo.photo.sizes.slice(-1); //if 'x' size not included - return last photo size

        return imgURL;
    }

    /**
     * @brief get response as input, parse into important data
     * @param {JSON} vk_response VK API walls.getComments response
     * @returns array of comments objects
     */
    async function createComments(vk_response) {
        const result_comments = [];

        const items = vk_response.items;

        for (const comment of items) {
            const result_comment = {};
            /*
              {
                  Name: Ð˜Ð²Ð°Ð½Ð¾Ð² Ð˜Ð²Ð°Ð½
                  Content: Some very important text...
                  AuthorIcon: https://...
              }
            */

            const authorID = comment.from_id;
            const author = await getUser(authorID);

            result_comment["Name"] = getName(authorID);
            result_comment["Content"] = comment.text;
            result_comment["AuthorIcon"] = await getIcon(author);

            if(!result_comment.Content) continue;
            result_comments.push(result_comment);
        }

        return result_comments;
    }

    async function html_render(comments_array)
    {
        const commentsMount = document.querySelector(".comments .mount");
        const template = commentsMount.querySelector(".example_comment");
        for(let comment of comments_array)
        {
            const newComment = template.content.cloneNode(true);
            newComment.querySelector(".icon").src = comment.AuthorIcon;
            newComment.querySelector(".fio").textContent = comment.Name;
            newComment.querySelector(".comment").textContent = comment.Content;
            commentsMount.append(newComment);
        }
    }

}

vk_comments_init();

